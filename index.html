<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>G.I.G.O.T â€” Lâ€™absurde, organisÃ©.</title>
  <meta name="description" content="G.I.G.O.T â€” Groupe dâ€™Intervention Galactique OpÃ©rationnellement TarÃ©. Corporation francophone, autonome, absurde et dangereusement efficace dans lâ€™univers de Star Citizen." />

  <!-- Polices -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css" />

  <!-- CSP (compatible GitHub Pages + quelques styles inline pour le modal) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' https://cdn.jsdelivr.net;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src https://fonts.gstatic.com 'self';
    img-src 'self' data: https:;
    connect-src 'self' https://fjhsakmjcdqpolccihyj.supabase.co;
    object-src 'none';
    base-uri 'self';
    upgrade-insecure-requests;
  ">

  <!-- Supabase UMD -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js" defer></script>
  <!-- Ton JS applicatif (âš ï¸ garde ce nom/version pour casser le cache aprÃ¨s MAJ) -->
  <script src="app.js?v=prod-inv4" defer></script>
</head>

<body>
  <header class="site-header">
    <div class="container nav-wrap">
      <a href="#" class="logo" aria-label="Accueil G.I.G.O.T">
        <span class="logo-mark"><img src="img/logoGIGOT.png" alt="Logo G.I.G.O.T" class="logo-img"></span>
        <span class="logo-text">G.I.G.O.T</span>
      </a>
      <nav aria-label="Navigation principale">
        <ul class="nav">
          <li><a href="#histoire">Histoire</a></li>
          <li><a href="#divisions">Divisions</a></li>
          <li><a href="#fonctionnement">Fonctionnement</a></li>
          <li><a href="#recrutement">Recrutement</a></li>
          <li class="nav-cta">
            <div class="cta">
              <button class="btn btn-primary" id="btn-login">Se connecter avec Discord</button>
              <button class="btn btn-ghost" id="btn-logout">Se dÃ©connecter</button>
            </div>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="content" class="site-main">
    <section class="hero">
      <div class="container">
        <h1>Groupe dâ€™Intervention Galactique <br class="br-xl" />OpÃ©rationnellement TarÃ©</h1>
        <p class="tagline">Â« Lâ€™univers est vaste. Nous, plus encore. Â»</p>
        <p class="lead">Corporation francophone, autonome, absurde et dangereusement (in)efficace. Si tu nâ€™as pas ta place dans une organisation classique, câ€™est que tu as ta place chez nous.</p>
        <div class="cta">
          <a class="btn btn-primary" href="https://discord.gg/krV7cMn2Nj" target="_blank" rel="noopener noreferrer">Rejoindre sur Discord</a>
          <a class="btn btn-primary" href="https://robertsspaceindustries.com/orgs/RBB" target="_blank" rel="noopener noreferrer">Rejoindre sur Spectrum</a>
          <a class="btn btn-ghost" href="#histoire" aria-label="DÃ©couvrir notre histoire">DÃ©couvrir</a>
        </div>
      </div>
    </section>

    <section id="histoire" class="section">
      <div class="container">
        <h2>Histoire de G.I.G.O.T</h2>
        <p class="lead">
          Tout commence sur Daymar, dans un bar creusÃ© dans une gorge de roche rouge, Ã  deux pas dâ€™un spatioport dÃ©saffectÃ©.
          Trois individus, une table bancale, et une idÃ©e simple : faire une orga tarÃ©eâ€¦ mais qui fonctionne.
        </p>

        <details class="accordion">
          <summary>
            <span class="chevron" aria-hidden="true"></span>
            <span>Afficher lâ€™histoire complÃ¨te</span>
          </summary>
          <div class="accordion-content">
            <p>Tout commence sur Daymar, dans un bar miteux creusÃ© dans une gorge de roche rouge, Ã  deux pas dâ€™un spatioport dÃ©saffectÃ©. LÃ , entre vapeurs de whisky synthÃ©tique et musique trop forte, trois individus se retrouvent rÃ©unis autour dâ€™un vieux tonneau faisant office de table. Un chirurgien de guerre Ã  la retraite, un mineur freelance au passÃ© aussi flou qu'un scan atmosphÃ©rique, et un mercenaire dur dâ€™oreille victime dâ€™un tir alliÃ© mal orientÃ©.</p>
            <p>Leur point commun ? Un goÃ»t du risque, un mÃ©pris poli pour lâ€™autoritÃ©, et une furieuse envie de faire bouger les choses... Ã  leur maniÃ¨re.</p>
            <p>Autour de cette table bancale, les discussions fusent. Ils parlent dâ€™escouades sacrifiÃ©es, de corporations avides, de commandants incompÃ©tents. Mais surtout, ils rient. Ils rient beaucoup. Et entre deux gorgÃ©es, lâ€™idÃ©e naÃ®t :</p>
            <blockquote class="quote">Â« Puisquâ€™aucune organisation nâ€™est foutue de fonctionner sans sombrer dans la folie... autant faire une orga tarÃ©e, mais qui fonctionne ! Â»</blockquote>
            <p>Quelques semaines plus tard, ils reviennent sur Daymar, cette fois Ã  bord dâ€™un Cutlass noir cabossÃ©, marquÃ© dâ€™un symbole griffonnÃ© Ã  la main : un gigot ailÃ©, entourÃ© dâ€™un cercle. La premiÃ¨re itÃ©ration du logo. G.I.G.O.T venait de naÃ®tre.</p>
            <p>Dâ€™abord considÃ©rÃ©s comme une simple bande de marginaux, ils se font rapidement remarquer par leurs actions imprÃ©visibles mais diablement efficaces. Extraction mÃ©dicale sous le feu, livraison de cargaisons en territoire pirate, Ã©vacuation dâ€™un avant-poste infectÃ© par un agent toxique â€“ toujours avec panache, improvisation, et humour noir.</p>
            <p>En 2949, ils formalisent leur structure. Les divisions sont fondÃ©es. Des noms aussi absurdes qu'efficaces sont choisis. Le Centre MÃ©dical Rumsteck voit le jour avec une table dâ€™opÃ©ration montÃ©e sur roulettes. Bacon Industries est lancÃ© avec une foreuse trouvÃ©e dans une casse. Et Beef Jerky Mercenary sâ€™Ã©quipe de fusils rÃ©cupÃ©rÃ©s sur les champs de bataille les plus douteux de Stanton.</p>
            <p>Ce nâ€™est quâ€™Ã  partir de 2952 que leur rÃ©putation dÃ©passe les frontiÃ¨res. Des commandants commencent Ã  les recommander pour des contrats officieux. Le bouche-Ã -oreille circule sur Spectrum. Des recrues dâ€™autres systÃ¨mes arrivent, attirÃ©es par leur promesse :</p>
            <blockquote class="quote">Â« On ne te demande pas dâ€™Ãªtre normal. On te demande dâ€™Ãªtre bon... Ã  notre faÃ§on. Â»</blockquote>
            <p>Aujourdâ€™hui, G.I.G.O.T opÃ¨re dans presque tous les secteurs de lâ€™UEE et au-delÃ . Lâ€™organisation possÃ¨de ses propres vaisseaux capitaux, une flotte dâ€™intervention rapide, et un rÃ©seau de satellites clandestins pour le renseignement. Et surtout, une culture unique : celle dâ€™un groupe de fous, parfaitement organisÃ©s.</p>
            <blockquote class="quote">Â« TarÃ©s, mais opÃ©rationnels. Â»</blockquote>
          </div>
        </details>
      </div>
    </section>

    <section id="divisions" class="section">
      <div class="container">
        <h2>Divisions</h2>

        <div class="grid cards">
          <article class="card">
            <h3>âš•ï¸ Division MÃ©dicale</h3>
            <p class="eyebrow">Centre MÃ©dical Rumsteck</p>
            <p>Au cÅ“ur de chaque sauvetage, la Division MÃ©dicale incarne la compassion et la rigueur. Interventions en zones de guerre, postes contaminÃ©s, crashs de vaisseaux ou sur planÃ¨tes inhospitaliÃ¨res : dotÃ©e dâ€™unitÃ©s mobiles de soins avancÃ©s, dâ€™une flotte dÃ©diÃ©e et de protocoles dâ€™intervention tactique, elle sauve des vies sans perdre son sang-froid.</p>
            <p>Au-delÃ  du secours, elle mÃ¨ne des recherches biomÃ©dicales, analyses de terrain et Ã©valuations dâ€™environnements toxiques. <em>Leur mantra :</em> Â« On ne laisse jamais un tarÃ© derriÃ¨re. Sauf sâ€™il lâ€™a vraiment cherchÃ©. Â»</p>
          </article>

          <article class="card">
            <h3>ğŸ’ª Division Industrielle</h3>
            <p class="eyebrow">Bacon Industries</p>
            <p>Pilier logistique et Ã©conomique, la Division Industrielle gÃ¨re extraction, transformation et mise en circulation des ressources. Capable dâ€™opÃ©rations massives dâ€™exploitation miniÃ¨re, dâ€™optimiser des chaÃ®nes de raffinage et de nÃ©gocier des contrats rentables, elle est dotÃ©e dâ€™une flotte spÃ©cialisÃ©e (Mole, Reclaimer, Hull Series) pour fonctionner en autonomie.</p>
            <p>Elle fabrique des composants, recycle des matÃ©riaux et assure le soutien logistique interdivisions. <em>Devise :</em> Â« Si tu veux la guerre, il te faudra dâ€™abord notre carburant. Â»</p>
          </article>

          <article class="card">
            <h3>ğŸŒªï¸ Division Militaire</h3>
            <p class="eyebrow">Beef Jerky Mercenary</p>
            <p>Bras armÃ© de G.I.G.O.T, la Division Militaire incarne puissance, rÃ©activitÃ© et tactique. Tireurs dâ€™Ã©lite, pilotes de chasse, commandos et spÃ©cialistes du combat spatial/planÃ©taire alternent infiltration discrÃ¨te et assaut orbital. Ã‰quipement optimisÃ© : armures lourdes, dÃ©ploiements de Nova/Ballista, chasseurs pour la couverture aÃ©rienne.</p>
            <p>Souvent en coopÃ©ration avec le Renseignement et la Logistique, elle frappe vite, fort, et sans se faire remarquer â€“ sauf si câ€™est le but. <em>Mantra :</em> Â« On discute aprÃ¨s, sâ€™il reste quelquâ€™un. Â»</p>
          </article>
        </div>
      </div>
    </section>

    <!-- visible uniquement si lâ€™utilisateur est dans la guilde + a un rÃ´le autorisÃ© -->
    <section class="section" data-protected>
      <div class="container">
        <h2>Espace membres</h2>

        <!-- Panneau CONTROLES inline (mouvement + filtres) -->
        <section id="inv-controls" class="section">
          <div class="container">
            <div class="toolbar">
              <h3 style="margin:0;">Gestion dâ€™inventaire</h3>
              <div id="inv-summary" class="summary"></div>
            </div>

            <!-- Formulaire Mouvement -->
            <form id="form-mvt" autocomplete="off" class="card">
              <h4 style="margin-top:0;">Mouvement de stock</h4>

              <div class="seg">
                <label><input type="radio" name="dir" value="in" checked> EntrÃ©e</label>
                <label><input type="radio" name="dir" value="out"> Sortie</label>
              </div>

              <div class="grid-two">
                <label>Type
                  <input id="mvt-type" list="dl-type" placeholder="Ex: MÃ©dical" required>
                  <datalist id="dl-type"></datalist>
                  <small id="badge-type" class="badge"></small>
                </label>

                <label>Item
                  <input id="mvt-name" list="dl-name" placeholder="Ex: MedPen" required>
                  <datalist id="dl-name"></datalist>
                  <small id="badge-name" class="badge"></small>
                </label>
              </div>

              <div class="grid-two">
                <label>Lieu
                  <input id="mvt-location" list="dl-location" placeholder="Ex: Area18">
                  <datalist id="dl-location"></datalist>
                  <small id="badge-location" class="badge"></small>
                </label>

                <label>Possesseur
                  <input id="mvt-owner" list="dl-owner" placeholder="Ex: Garde Tactique">
                  <datalist id="dl-owner"></datalist>
                  <small id="badge-owner" class="badge"></small>
                </label>
              </div>

              <div class="grid-two">
                <label>QuantitÃ©
                  <input id="mvt-qty" type="number" min="1" step="1" value="1" required>
                </label>
                <label>Prix unitaire (optionnel)
                  <input id="mvt-unit" type="number" min="0" step="0.01" placeholder="0.00">
                </label>
              </div>

              <div class="actions">
                <button type="submit" class="btn btn-primary">Valider</button>
                <button type="button" id="mvt-reset" class="btn btn-ghost">RÃ©initialiser</button>
                <div id="mvt-debug" class="debug" hidden></div>
              </div>
            </form>

            <!-- Filtres inline -->
            <form id="form-filters" class="card" style="margin-top:12px;">
              <h4 style="margin-top:0;">Filtres</h4>
              <div class="grid-two">
                <label>Type
                  <select id="flt-type" multiple></select>
                </label>
                <label>Item
                  <select id="flt-name" multiple></select>
                </label>
              </div>
              <div class="grid-two">
                <label>Lieu
                  <select id="flt-location" multiple></select>
                </label>
                <label>Possesseur
                  <select id="flt-owner" multiple></select>
                </label>
              </div>
              <div class="actions">
                <button type="submit" class="btn btn-primary">Appliquer</button>
                <button type="button" id="filters-clear" class="btn btn-ghost">Effacer</button>
              </div>
              <div id="filters-chips" class="chips"></div>
              <div id="flt-debug" class="debug" hidden></div>
            </form>
          </div>
        </section>

        <!-- Inventaire -->
        <section id="inventaire" class="section">
          <div class="container">
            <h2>Inventaire</h2>

            <!-- Recherche -->
            <input type="text" id="search" placeholder="Rechercher..." />

            <!-- Tableau -->
            <table id="inv-table">
              <thead>
                <tr>
                  <th data-col="type">Type</th>
                  <th data-col="name">Item</th>
                  <th data-col="location">Lieu</th>
                  <th data-col="owner">Possesseur</th>
                  <th data-col="unit_price">Prix unitaire</th>
                  <th data-col="qty">QuantitÃ©</th>
                  <th data-col="valeur_totale">Valeur totale</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="inv-body"></tbody>
            </table>

            <!-- Pagination -->
            <div id="pagination"></div>

            <!-- Bouton ajout (Option A : visible pour tous les membres) -->
            <button id="btn-add" class="btn btn-primary">â• Ajouter</button>
          </div>
        </section>

        <!-- Modal (ajout / Ã©dition) -->
        <div id="modal" style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%); background:#12192b; padding:20px; border-radius:8px; z-index:1000;">
          <h3 id="modal-title">Nouvel item</h3>
          <form id="form-item">
            <input type="hidden" id="item-id" />
            <input type="text" id="item-type" placeholder="Type" required /><br/>
            <input type="text" id="item-name" placeholder="Item" required /><br/>
            <input type="text" id="item-location" placeholder="Lieu" /><br/>
            <input type="text" id="item-owner" placeholder="Possesseur" /><br/>
            <input type="number" id="item-unit_price" placeholder="Prix unitaire" step="0.01" /><br/>
            <input type="number" id="item-qty" placeholder="QuantitÃ©" /><br/>
            <button type="submit" class="btn btn-primary">Enregistrer</button>
            <button type="button" id="btn-cancel" class="btn btn-ghost">Annuler</button>
          </form>
        </div>
      </div>
    </section>

    <!-- visible uniquement si rÃ´le staff -->
    <section class="section" data-staff>
      <div class="container">
        <h2>Staff</h2>
        <p>Outils et infos pour lâ€™Ã©quipe staff.</p>
      </div>
    </section>

    <section id="recrutement" class="section section-accent">
      <div class="container">
        <h2>Recrutement</h2>
        <p>Envie de rejoindre une Ã©quipe Â« tarÃ©e, mais opÃ©rationnelle Â» ? Dis-nous qui tu es, ta division de cÅ“ur, et ce que tu as envie dâ€™apporter. On discuteraâ€¦ sâ€™il reste quelquâ€™un.</p>
        <div class="cta">
          <a class="btn btn-primary" href="https://discord.gg/krV7cMn2Nj" target="_blank" rel="noopener noreferrer">Discord</a>
          <a class="btn btn-primary" href="https://robertsspaceindustries.com/orgs/RBB" target="_blank" rel="noopener noreferrer">Spectrum</a>
          <a class="btn btn-ghost" href="mailto:contact@gigot.example">contact@gigot.example</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container foot">
      <p>Â© <span id="year"></span> G.I.G.O.T â€” Lâ€™absurde, organisÃ©.</p>
      <a href="#content" class="to-top" aria-label="Revenir en haut">â†‘ Haut de page</a>
    </div>
  </footer>
</body>
</html>
